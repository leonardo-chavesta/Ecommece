{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nfunction LoginComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 15)(2, \"strong\", 16);\n    i0.ɵɵtext(3, \"Contrase\\u00F1a incorrecta!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 17);\n    i0.ɵɵtext(5, \" Usa una contrase\\u00F1a Verdadera \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"span\", 18);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginComponent_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n  }\n}\nexport class LoginComponent {\n  constructor(fb, authSvc) {\n    this.fb = fb;\n    this.authSvc = authSvc;\n    this.verif = true;\n  }\n  ngOnInit() {\n    this.loginForm = this.intiForm();\n  }\n  onSubmit() {\n    this.authSvc.autentificarLogin(this.loginForm.value).subscribe(res => {\n      this.resulForm = res;\n      if (this.resulForm.message == 'Token generado correctamente.') {\n        localStorage.setItem('ApplicationData', JSON.stringify(this.resulForm));\n        this.verif = true;\n        window.location.href = '/home';\n      } else {\n        this.verif = false;\n      }\n    });\n  }\n  intiForm() {\n    return this.fb.group({\n      correo: [''],\n      contrasenia: ['']\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 26,\n  vars: 2,\n  consts: [[1, \"flex\", \"min-h-full\", \"items-center\", \"justify-center\", \"py-12\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"w-full\", \"max-w-md\", \"space-y-8\"], [\"src\", \"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600\", \"alt\", \"Your Company\", 1, \"mx-auto\", \"h-12\", \"w-auto\"], [1, \"mt-6\", \"text-center\", \"text-3xl\", \"font-bold\", \"tracking-tight\", \"text-gray-900\"], [1, \"mt-8\", \"space-y-6\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"hidden\", \"name\", \"remember\", \"value\", \"true\"], [1, \"-space-y-px\", \"rounded-md\", \"shadow-sm\"], [1, \"sr-only\"], [\"formControlName\", \"correo\", \"name\", \"correo\", \"id\", \"correo\", \"type\", \"text\", \"required\", \"\", \"placeholder\", \"Email address\", 1, \"relative\", \"block\", \"w-full\", \"appearance-none\", \"rounded-none\", \"rounded-t-md\", \"border\", \"border-gray-300\", \"px-3\", \"py-2\", \"text-gray-900\", \"placeholder-gray-500\", \"focus:z-10\", \"focus:border-indigo-500\", \"focus:outline-none\", \"focus:ring-indigo-500\", \"sm:text-sm\"], [\"formControlName\", \"contrasenia\", \"name\", \"contrasenia\", \"id\", \"contrasenia\", \"type\", \"password\", \"required\", \"\", \"placeholder\", \"Password\", 1, \"relative\", \"block\", \"w-full\", \"appearance-none\", \"rounded-none\", \"rounded-b-md\", \"border\", \"border-gray-300\", \"px-3\", \"py-2\", \"text-gray-900\", \"placeholder-gray-500\", \"focus:z-10\", \"focus:border-indigo-500\", \"focus:outline-none\", \"focus:ring-indigo-500\", \"sm:text-sm\"], [\"type\", \"submit\", 1, \"group\", \"relative\", \"flex\", \"w-full\", \"justify-center\", \"rounded-md\", \"border\", \"border-transparent\", \"bg-indigo-600\", \"py-2\", \"px-4\", \"text-sm\", \"font-medium\", \"text-white\", \"hover:bg-indigo-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-indigo-500\", \"focus:ring-offset-2\"], [1, \"absolute\", \"inset-y-0\", \"left-0\", \"flex\", \"items-center\", \"pl-3\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 20 20\", \"fill\", \"currentColor\", \"aria-hidden\", \"true\", 1, \"h-5\", \"w-5\", \"text-indigo-500\", \"group-hover:text-indigo-400\"], [\"fill-rule\", \"evenodd\", \"d\", \"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z\", \"clip-rule\", \"evenodd\"], [4, \"ngIf\"], [\"role\", \"alert\", 1, \"bg-red-100\", \"border\", \"border-red-400\", \"text-red-700\", \"px-4\", \"py-3\", \"rounded\", \"relative\"], [1, \"font-bold\"], [1, \"block\", \"sm:inline\"], [1, \"absolute\", \"top-0\", \"bottom-0\", \"right-0\", \"px-4\", \"py-3\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\");\n      i0.ɵɵelement(3, \"img\", 2);\n      i0.ɵɵelementStart(4, \"h2\", 3);\n      i0.ɵɵtext(5, \"Iniciar sesi\\u00F3n en su cuenta \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelement(7, \"input\", 5);\n      i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\")(10, \"label\", 7);\n      i0.ɵɵtext(11, \"Correo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"br\");\n      i0.ɵɵelementStart(14, \"div\")(15, \"label\", 7);\n      i0.ɵɵtext(16, \"Contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\")(19, \"button\", 10)(20, \"span\", 11);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(21, \"svg\", 12);\n      i0.ɵɵelement(22, \"path\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtext(23, \"login \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(24, LoginComponent_div_24_Template, 7, 0, \"div\", 14);\n      i0.ɵɵtemplate(25, LoginComponent_ng_template_25_Template, 0, 0, \"ng-template\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngIf\", !ctx.verif);\n    }\n  },\n  dependencies: [i3.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;IAuCYA,oBAAqB;IAArBA,2BAAqB;IAEaA,2CAAsB;IAAAA,iBAAS;IACzDA,gCAA8B;IAACA,mDAC/B;IAAAA,iBAAO;IACPA,2BAEO;IACXA,iBAAM;;;;;;;;ACrCtB,OAAM,MAAOC,cAAc;EAMzBC,YACUC,EAAe,EACfC,OAAoB;IADpB,OAAE,GAAFD,EAAE;IACF,YAAO,GAAPC,OAAO;IAJjB,UAAK,GAAY,IAAI;EAKjB;EACJC,QAAQ;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACC,QAAQ,EAAE;EAClC;EACAC,QAAQ;IACN,IAAI,CAACJ,OAAO,CAACK,iBAAiB,CAAC,IAAI,CAACH,SAAS,CAACI,KAAK,CAAC,CAACC,SAAS,CAAEC,GAAQ,IAAI;MAC1E,IAAI,CAACC,SAAS,GAAGD,GAAG;MACpB,IAAI,IAAI,CAACC,SAAS,CAACC,OAAO,IAAI,+BAA+B,EAAE;QAC7DC,YAAY,CAACC,OAAO,CAAC,iBAAiB,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACL,SAAS,CAAC,CAAC;QACvE,IAAI,CAACM,KAAK,GAAG,IAAI;QACjBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,OAAO;OAE/B,MAAI;QACH,IAAI,CAACH,KAAK,GAAG,KAAK;;IAEtB,CAAC,CAAC;EACJ;EACAZ,QAAQ;IACN,OAAO,IAAI,CAACJ,EAAE,CAACoB,KAAK,CAAC;MACnBC,MAAM,EAAE,CAAC,EAAE,CAAC;MACZC,WAAW,EAAE,CAAC,EAAE;KACjB,CAAC;EACJ;;AA/BWxB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV3B9B,8BAAoF;MAGxEA,yBACuB;MACvBA,6BAA6E;MAAAA,iDAC7E;MAAAA,iBAAK;MAETA,+BAA6E;MAAvEA;QAAA,OAAY+B,cAAU;MAAA,EAAC;MACzB/B,2BAAkD;MAClDA,8BAA8C;MAEfA,uBAAM;MAAAA,iBAAQ;MACrCA,4BAEgC;MACpCA,iBAAM;MACNA,sBAAI;MACJA,4BAAK;MACsBA,gCAAU;MAAAA,iBAAQ;MACzCA,4BAE2B;MAC/BA,iBAAM;MAEVA,4BAAK;MAIOA,mBAEuB;MAFvBA,gCAEuB;MACnBA,4BAE0B;MAC9BA,iBAAM;MACHA,uBACX;MAAAA,iBAAS;MAEbA,kEASM;MACNA,8EAA2B;MAG/BA,iBAAO;;;MA5CuBA,eAAuB;MAAvBA,yCAAuB;MA+B3CA,gBAAa;MAAbA,iCAAa","names":["i0","LoginComponent","constructor","fb","authSvc","ngOnInit","loginForm","intiForm","onSubmit","autentificarLogin","value","subscribe","res","resulForm","message","localStorage","setItem","JSON","stringify","verif","window","location","href","group","correo","contrasenia","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\User\\Documents\\Desarrollo\\Ecommerce\\Ecommece\\src\\app\\pages\\auth\\login\\login.component.html","C:\\Users\\User\\Documents\\Desarrollo\\Ecommerce\\Ecommece\\src\\app\\pages\\auth\\login\\login.component.ts"],"sourcesContent":["<div class=\"flex min-h-full items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n    <div class=\"w-full max-w-md space-y-8\">\r\n        <div>\r\n            <img class=\"mx-auto h-12 w-auto\" src=\"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600\"\r\n                alt=\"Your Company\">\r\n            <h2 class=\"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900\">Iniciar sesión en su cuenta\r\n            </h2>\r\n        </div>\r\n        <form (ngSubmit)=\"onSubmit()\" [formGroup]=\"loginForm\" class=\"mt-8 space-y-6\">\r\n            <input type=\"hidden\" name=\"remember\" value=\"true\">\r\n            <div class=\"-space-y-px rounded-md shadow-sm\">\r\n                <div>\r\n                    <label class=\"sr-only\">Correo</label>\r\n                    <input formControlName=\"correo\" name=\"correo\" id=\"correo\" type=\"text\" required\r\n                        class=\"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\"\r\n                        placeholder=\"Email address\">\r\n                </div>\r\n                <br>\r\n                <div>\r\n                    <label class=\"sr-only\">Contraseña</label>\r\n                    <input formControlName=\"contrasenia\" name=\"contrasenia\" id=\"contrasenia\" type=\"password\" required\r\n                        class=\"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\"\r\n                        placeholder=\"Password\">\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\"\r\n                    class=\"group relative flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\r\n                    <span class=\"absolute inset-y-0 left-0 flex items-center pl-3\">\r\n                        <svg class=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\"\r\n                            aria-hidden=\"true\">\r\n                            <path fill-rule=\"evenodd\"\r\n                                d=\"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z\"\r\n                                clip-rule=\"evenodd\" />\r\n                        </svg>\r\n                    </span>login\r\n                </button>\r\n            </div>\r\n            <div *ngIf=\"!verif;\">\r\n                <div class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n                    <strong class=\"font-bold\">Contraseña incorrecta!</strong>\r\n                    <span class=\"block sm:inline\"> Usa una contraseña Verdadera\r\n                    </span>\r\n                    <span class=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\r\n\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <ng-template></ng-template>\r\n\r\n\r\n        </form>\r\n    </div>\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { AuthInterface } from '../../../interfaces/auth.interface';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../../../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  loginForm!: FormGroup\r\n  resulForm!: AuthInterface\r\n  verif: boolean = true\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private authSvc: AuthService\r\n  ) { }\r\n  ngOnInit(): void {\r\n    this.loginForm = this.intiForm()\r\n  }\r\n  onSubmit(): void {\r\n    this.authSvc.autentificarLogin(this.loginForm.value).subscribe((res: any) => {\r\n      this.resulForm = res\r\n      if (this.resulForm.message == 'Token generado correctamente.') {\r\n        localStorage.setItem('ApplicationData', JSON.stringify(this.resulForm))\r\n        this.verif = true\r\n        window.location.href = '/home'\r\n        \r\n      }else{\r\n        this.verif = false\r\n      }\r\n    })\r\n  }\r\n  intiForm(): FormGroup {\r\n    return this.fb.group({\r\n      correo: [''],\r\n      contrasenia: ['']\r\n    })\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}