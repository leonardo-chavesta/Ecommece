{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { take } from 'rxjs';\nlet DetalleProductoComponent = class DetalleProductoComponent {\n  constructor(roter, productoSvc, router) {\n    this.roter = roter;\n    this.productoSvc = productoSvc;\n    this.router = router;\n    this.validar = false;\n    this.localStore = JSON.parse(localStorage.getItem('ApplicationData')) ?? null;\n  }\n  ngOnInit() {\n    this.ObtenerDetalle();\n  }\n  ObtenerDetalle() {\n    const localStore = JSON.parse(localStorage.getItem('ApplicationData')) ?? null;\n    const idUsuario = localStore?.data?.id ?? null;\n    this.roter.params.pipe(take(1)).subscribe(params => {\n      this.id = params['id'];\n      this.productoSvc.getDetalleProducto(this.id).subscribe(res => {\n        this.detalle = res;\n        this.verificarProductoUsuario(res);\n        this.detalleCarrito = {\n          Nombre: res.nombre,\n          Descripcion: res.descripcion,\n          Precio: res.precio,\n          IdUsuario: idUsuario\n        };\n      });\n    });\n  }\n  EliminarProducto() {\n    this.roter.params.pipe(take(1)).subscribe(params => {\n      this.id = params['id'];\n      this.productoSvc.eliminarProducto(this.id).subscribe(() => this.router.navigate(['home']));\n    });\n  }\n  enviarProductoCarrito() {\n    if (this.localStore) {\n      this.productoSvc.eviarCarrito(this.detalleCarrito).subscribe(() => this.router.navigate(['MiCarritoCompras']));\n    } else {\n      window.alert(\"Tiene Que Iniciar Seccion Primero\");\n      this.router.navigate(['/login']);\n    }\n  }\n  verificarProductoUsuario(dato) {\n    const idUsuario = this.localStore?.data?.id ?? null;\n    if (dato.idUsuario == idUsuario) return this.validar = true;\n    return this.validar;\n  }\n};\nDetalleProductoComponent = __decorate([Component({\n  selector: 'app-detalle-producto',\n  templateUrl: './detalle-producto.component.html'\n})], DetalleProductoComponent);\nexport { DetalleProductoComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAEjD,SAASC,IAAI,QAAQ,MAAM;AAQpB,IAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EAMnCC,YACUC,KAAqB,EACrBC,WAA4B,EAC5BC,MAAc;IAFd,UAAK,GAALF,KAAK;IACL,gBAAW,GAAXC,WAAW;IACX,WAAM,GAANC,MAAM;IALhB,YAAO,GAAY,KAAK;IAChB,eAAU,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAE,CAAC,IAAI,IAAI;EAK7E;EACJC,QAAQ;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EACAA,cAAc;IACZ,MAAMC,UAAU,GAAGN,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAE,CAAC,IAAI,IAAI;IAC/E,MAAMI,SAAS,GAAGD,UAAU,EAAEE,IAAI,EAAEC,EAAE,IAAI,IAAI;IAC9C,IAAI,CAACZ,KAAK,CAACa,MAAM,CAACC,IAAI,CAACjB,IAAI,CAAC,CAAC,CAAC,CAAC,CAACkB,SAAS,CAAEF,MAAM,IAAI;MACnD,IAAI,CAACD,EAAE,GAAGC,MAAM,CAAC,IAAI,CAAC;MACtB,IAAI,CAACZ,WAAW,CAACe,kBAAkB,CAAC,IAAI,CAACJ,EAAE,CAAC,CAACG,SAAS,CAAEE,GAAsB,IAAI;QAChF,IAAI,CAACC,OAAO,GAAGD,GAAG;QAClB,IAAI,CAACE,wBAAwB,CAACF,GAAG,CAAC;QAClC,IAAI,CAACG,cAAc,GAAG;UACpBC,MAAM,EAAEJ,GAAG,CAACK,MAAM;UAClBC,WAAW,EAAEN,GAAG,CAACO,WAAW;UAC5BC,MAAM,EAAER,GAAG,CAACS,MAAM;UAClBC,SAAS,EAACjB;SACX;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAkB,gBAAgB;IACd,IAAI,CAAC5B,KAAK,CAACa,MAAM,CAACC,IAAI,CAACjB,IAAI,CAAC,CAAC,CAAC,CAAC,CAACkB,SAAS,CAAEF,MAAM,IAAI;MACnD,IAAI,CAACD,EAAE,GAAGC,MAAM,CAAC,IAAI,CAAC;MACtB,IAAI,CAACZ,WAAW,CAAC4B,gBAAgB,CAAC,IAAI,CAACjB,EAAE,CAAC,CAACG,SAAS,CAAC,MAAM,IAAI,CAACb,MAAM,CAAC4B,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAC5F,CAAC,CAAC;EACJ;EACAC,qBAAqB;IACnB,IAAG,IAAI,CAACtB,UAAU,EAAE;MAClB,IAAI,CAACR,WAAW,CAAC+B,YAAY,CAAC,IAAI,CAACZ,cAAc,CAAC,CAACL,SAAS,CAAC,MAAM,IAAI,CAACb,MAAM,CAAC4B,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;KAC/G,MACG;MACFG,MAAM,CAACC,KAAK,CAAC,mCAAmC,CAAC;MACjD,IAAI,CAAChC,MAAM,CAAC4B,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;EAEpC;EACAX,wBAAwB,CAACgB,IAAS;IAChC,MAAMzB,SAAS,GAAG,IAAI,CAACD,UAAU,EAAEE,IAAI,EAAEC,EAAE,IAAI,IAAI;IACnD,IAAIuB,IAAI,CAACzB,SAAS,IAAIA,SAAS,EAAE,OAAO,IAAI,CAAC0B,OAAO,GAAG,IAAI;IAC3D,OAAO,IAAI,CAACA,OAAO;EACrB;CACD;AAnDYtC,wBAAwB,eAJpCF,SAAS,CAAC;EACTyC,QAAQ,EAAE,sBAAsB;EAChCC,WAAW,EAAE;CACd,CAAC,GACWxC,wBAAwB,CAmDpC;SAnDYA,wBAAwB","names":["Component","take","DetalleProductoComponent","constructor","roter","productoSvc","router","JSON","parse","localStorage","getItem","ngOnInit","ObtenerDetalle","localStore","idUsuario","data","id","params","pipe","subscribe","getDetalleProducto","res","detalle","verificarProductoUsuario","detalleCarrito","Nombre","nombre","Descripcion","descripcion","Precio","precio","IdUsuario","EliminarProducto","eliminarProducto","navigate","enviarProductoCarrito","eviarCarrito","window","alert","dato","validar","selector","templateUrl"],"sourceRoot":"","sources":["C:\\Users\\lchavesta\\OneDrive\\Escritorio\\Ecommerce\\Ecommerce\\src\\app\\pages\\productos\\detalle-producto\\detalle-producto.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { take } from 'rxjs';\nimport { Carrito, ProductoInterface } from 'src/app/interfaces/producto.interface';\nimport { ProductoService } from '../../../services/producto.service';\n\n@Component({\n  selector: 'app-detalle-producto',\n  templateUrl: './detalle-producto.component.html',\n})\nexport class DetalleProductoComponent implements OnInit {\n  id!: number\n  detalle!: ProductoInterface\n  detalleCarrito!: Carrito\n  validar: boolean = false\n  private localStore = JSON.parse(localStorage.getItem('ApplicationData')!) ?? null\n  constructor(\n    private roter: ActivatedRoute,\n    private productoSvc: ProductoService,\n    private router: Router,\n  ) { }\n  ngOnInit(): void {\n    this.ObtenerDetalle()\n  }\n  ObtenerDetalle(): void {\n    const localStore = JSON.parse(localStorage.getItem('ApplicationData')!) ?? null\n    const idUsuario = localStore?.data?.id ?? null\n    this.roter.params.pipe(take(1)).subscribe((params) => {\n      this.id = params['id'];\n      this.productoSvc.getDetalleProducto(this.id).subscribe((res: ProductoInterface) => {\n        this.detalle = res\n        this.verificarProductoUsuario(res)\n        this.detalleCarrito = {\n          Nombre: res.nombre,\n          Descripcion: res.descripcion,\n          Precio: res.precio,\n          IdUsuario:idUsuario,\n        }\n      })\n    })\n  }\n  EliminarProducto(): void {\n    this.roter.params.pipe(take(1)).subscribe((params) => {\n      this.id = params['id'];\n      this.productoSvc.eliminarProducto(this.id).subscribe(() => this.router.navigate(['home']))\n    })\n  }\n  enviarProductoCarrito(): void {\n    if(this.localStore) {\n      this.productoSvc.eviarCarrito(this.detalleCarrito).subscribe(() => this.router.navigate(['MiCarritoCompras']))\n    }\n    else{\n      window.alert(\"Tiene Que Iniciar Seccion Primero\")\n      this.router.navigate(['/login'])\n    }\n  }\n  verificarProductoUsuario(dato: any): boolean {\n    const idUsuario = this.localStore?.data?.id ?? null\n    if (dato.idUsuario == idUsuario) return this.validar = true  \n    return this.validar\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}